#!/bin/bash

# Archivo de salida (opcional)
salida="lista_figuras.txt"

# Limpiar archivo de salida si existe
> "$salida"

# Carpetas de interÃ©s
carpetas=("9" "11" "13" "17")

echo "ðŸ” Buscando figuras PNG en las carpetas: ${carpetas[*]}"
echo "========================================="

for carpeta in "${carpetas[@]}"; do
    if [ -d "$carpeta" ]; then
        echo -e "\nðŸ“‚ Carpeta: $carpeta"
        echo "----------------------------------------"
        # Guardar en archivo y mostrar en pantalla
        echo -e "\nðŸ“‚ Carpeta: $carpeta" >> "$salida"
        echo "----------------------------------------" >> "$salida"

        encontradas=0
        while IFS= read -r -d '' img; do
            basename_img=$(basename "$img")
            echo "  â€¢ $basename_img"
            echo "  â€¢ $basename_img" >> "$salida"
            ((encontradas++))
        done < <(find "$carpeta" -name "*.png" -print0 | sort -zV)

        if [ "$encontradas" -eq 0 ]; then
            echo "  (ninguna imagen PNG encontrada)"
            echo "  (ninguna imagen PNG encontrada)" >> "$salida"
        else
            echo "  â†’ Total en $carpeta: $encontradas imÃ¡genes"
            echo "  â†’ Total en $carpeta: $encontradas imÃ¡genes" >> "$salida"
        fi
    else
        echo -e "\nâš ï¸  Carpeta '$carpeta' no existe."
        echo -e "\nâš ï¸  Carpeta '$carpeta' no existe." >> "$salida"
    fi
done

echo -e "\nâœ… Listado guardado en: $salida"
